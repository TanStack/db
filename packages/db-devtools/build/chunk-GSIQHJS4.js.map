{"version":3,"sources":["../src/DbDevtools.tsx","../src/DbDevtoolsPanel.tsx","../src/components/CollectionDetails.tsx","../src/components/TransactionList.tsx","../src/registry.ts"],"sourcesContent":["/** @jsxImportSource solid-js */\nimport { createEffect, createSignal, onCleanup } from \"solid-js\"\nimport { DbDevtoolsPanel } from \"./DbDevtoolsPanel\"\nimport { initializeDevtoolsRegistry } from \"./registry\"\nimport type { CollectionMetadata, DbDevtoolsConfig } from \"./types\"\n\ninterface DbDevtoolsProps extends DbDevtoolsConfig {\n  // Additional component props\n  registry?: import('./types').DbDevtoolsRegistry\n  shadowDOMTarget?: ShadowRoot\n}\n\nfunction DbDevtools(props: DbDevtoolsProps = {}) {\n  const [isOpen, setIsOpen] = createSignal(props.initialIsOpen ?? false)\n  const [collections, setCollections] = createSignal<Array<CollectionMetadata>>(\n    []\n  )\n\n  const registry = props.registry || initializeDevtoolsRegistry()\n\n  let intervalId: number | undefined\n\n  // Update collections metadata periodically\n  createEffect(() => {\n    const updateCollections = () => {\n      const metadata = registry.getAllCollectionMetadata()\n      setCollections(metadata)\n    }\n\n    // Initial load\n    updateCollections()\n\n    // Set up polling\n    intervalId = window.setInterval(updateCollections, 1000)\n\n    onCleanup(() => {\n      if (intervalId) {\n        clearInterval(intervalId)\n      }\n    })\n  })\n\n  const toggleOpen = () => {\n    const newState = !isOpen()\n    setIsOpen(newState)\n    props.onPanelStateChange?.(newState)\n  }\n\n  // Handle controlled state\n  createEffect(() => {\n    if (props.panelState) {\n      setIsOpen(props.panelState === `open`)\n    }\n  })\n\n  const position = props.position ?? `bottom-right`\n\n  return (\n    <>\n      {/* Toggle Button */}\n      <div\n        style={{\n          position: position === `relative` ? `relative` : `fixed`,\n          ...(position.includes(`top`) ? { top: `12px` } : { bottom: `12px` }),\n          ...(position.includes(`left`) ? { left: `12px` } : { right: `12px` }),\n          \"z-index\": 999999,\n        }}\n      >\n        <button\n          type=\"button\"\n          onClick={toggleOpen}\n          style={{\n            display: `flex`,\n            \"align-items\": `center`,\n            \"justify-content\": `center`,\n            \"background-color\": `#0088ff`,\n            border: `none`,\n            \"border-radius\": `8px`,\n            padding: `8px 12px`,\n            color: `white`,\n            \"font-family\": `system-ui, sans-serif`,\n            \"font-size\": `14px`,\n            \"font-weight\": `600`,\n            cursor: `pointer`,\n            \"box-shadow\": `0 4px 12px rgba(0, 136, 255, 0.3)`,\n            transition: `all 0.2s ease`,\n            ...props.toggleButtonProps?.style,\n          }}\n          {...props.toggleButtonProps}\n        >\n          <span style={{ \"margin-right\": `8px` }}>üóÑÔ∏è</span>\n          DB ({collections().length})\n        </button>\n      </div>\n\n      {/* Panel */}\n      {isOpen() && (\n        <DbDevtoolsPanel\n          onClose={() => setIsOpen(false)}\n          collections={collections()}\n          registry={registry}\n          {...props.panelProps}\n        />\n      )}\n    </>\n  )\n}\n\nexport default DbDevtools\n","/** @jsxImportSource solid-js */\nimport { For, Show, createMemo, createSignal } from \"solid-js\"\nimport { CollectionDetails } from \"./components/CollectionDetails\"\nimport { TransactionList } from \"./components/TransactionList\"\nimport type {\n  CollectionMetadata,\n  DbDevtoolsRegistry,\n  TransactionDetails,\n} from \"./types\"\n\ninterface DbDevtoolsPanelProps {\n  onClose: () => void\n  collections: Array<CollectionMetadata>\n  registry: DbDevtoolsRegistry\n  [key: string]: any\n}\n\nexport function DbDevtoolsPanel(props: DbDevtoolsPanelProps) {\n  const [selectedView, setSelectedView] = createSignal<\n    `collections` | `transactions`\n  >(`collections`)\n  const [selectedCollection, setSelectedCollection] = createSignal<\n    string | null\n  >(null)\n  const [selectedTransaction, setSelectedTransaction] = createSignal<\n    string | null\n  >(null)\n\n  const liveQueries = createMemo(() =>\n    props.collections.filter((c) => c.type === `live-query`)\n  )\n\n  const regularCollections = createMemo(() =>\n    props.collections.filter((c) => c.type === `collection`)\n  )\n\n  const allTransactions = createMemo(() => props.registry.getTransactions())\n\n  const handleCollectionSelect = (id: string) => {\n    setSelectedCollection(id)\n    setSelectedTransaction(null)\n  }\n\n  const handleTransactionSelect = (id: string) => {\n    setSelectedTransaction(id)\n    setSelectedCollection(null)\n  }\n\n  const panelStyle = {\n    position: `fixed` as const,\n    top: `0`,\n    left: `0`,\n    width: `100vw`,\n    height: `100vh`,\n    \"z-index\": 9999999,\n    \"background-color\": `rgba(0, 0, 0, 0.5)`,\n    display: `flex`,\n    \"align-items\": `center`,\n    \"justify-content\": `center`,\n    \"font-family\": `system-ui, -apple-system, sans-serif`,\n  }\n\n  const contentStyle = {\n    \"background-color\": `#1a1a1a`,\n    color: `#e1e1e1`,\n    width: `90vw`,\n    height: `90vh`,\n    \"border-radius\": `12px`,\n    \"box-shadow\": `0 20px 40px rgba(0, 0, 0, 0.3)`,\n    display: `flex`,\n    \"flex-direction\": `column` as const,\n    overflow: `hidden`,\n  }\n\n  const headerStyle = {\n    display: `flex`,\n    \"align-items\": `center`,\n    \"justify-content\": `space-between`,\n    padding: `16px 20px`,\n    \"border-bottom\": `1px solid #333`,\n    \"background-color\": `#222`,\n  }\n\n  const bodyStyle = {\n    display: `flex`,\n    flex: `1`,\n    overflow: `hidden`,\n  }\n\n  const sidebarStyle = {\n    width: `300px`,\n    \"border-right\": `1px solid #333`,\n    \"background-color\": `#1e1e1e`,\n    display: `flex`,\n    \"flex-direction\": `column` as const,\n  }\n\n  const mainStyle = {\n    flex: `1`,\n    display: `flex`,\n    \"flex-direction\": `column` as const,\n    overflow: `hidden`,\n  }\n\n  return (\n    <div\n      style={panelStyle}\n      onClick={(e) => e.target === e.currentTarget && props.onClose()}\n    >\n      <div style={contentStyle} onClick={(e) => e.stopPropagation()}>\n        {/* Header */}\n        <div style={headerStyle}>\n          <div\n            style={{ display: `flex`, \"align-items\": `center`, gap: `12px` }}\n          >\n            <span style={{ \"font-size\": `20px` }}>üóÑÔ∏è</span>\n            <h1\n              style={{ margin: `0`, \"font-size\": `18px`, \"font-weight\": `600` }}\n            >\n              TanStack DB Devtools\n            </h1>\n          </div>\n          <button\n            onClick={props.onClose}\n            style={{\n              background: `none`,\n              border: `none`,\n              color: `#888`,\n              \"font-size\": `20px`,\n              cursor: `pointer`,\n              padding: `4px 8px`,\n              \"border-radius\": `4px`,\n            }}\n          >\n            ‚úï\n          </button>\n        </div>\n\n        <div style={bodyStyle}>\n          {/* Sidebar */}\n          <div style={sidebarStyle}>\n            {/* Tab Navigation */}\n            <div\n              style={{\n                display: `flex`,\n                \"border-bottom\": `1px solid #333`,\n                \"background-color\": `#222`,\n              }}\n            >\n              <button\n                onClick={() => setSelectedView(`collections`)}\n                style={{\n                  flex: `1`,\n                  padding: `12px`,\n                  background:\n                    selectedView() === `collections`\n                      ? `#0088ff`\n                      : `transparent`,\n                  border: `none`,\n                  color: selectedView() === `collections` ? `white` : `#888`,\n                  cursor: `pointer`,\n                  \"font-size\": `14px`,\n                }}\n              >\n                Collections\n              </button>\n              <button\n                onClick={() => setSelectedView(`transactions`)}\n                style={{\n                  flex: `1`,\n                  padding: `12px`,\n                  background:\n                    selectedView() === `transactions`\n                      ? `#0088ff`\n                      : `transparent`,\n                  border: `none`,\n                  color: selectedView() === `transactions` ? `white` : `#888`,\n                  cursor: `pointer`,\n                  \"font-size\": `14px`,\n                }}\n              >\n                Transactions ({allTransactions().length})\n              </button>\n            </div>\n\n            {/* Content based on selected view */}\n            <div style={{ flex: `1`, overflow: `auto` }}>\n              <Show when={selectedView() === `collections`}>\n                {/* Live Queries Section */}\n                <Show when={liveQueries().length > 0}>\n                  <div style={{ padding: `16px 0 8px 16px` }}>\n                    <h3\n                      style={{\n                        margin: `0 0 8px 0`,\n                        \"font-size\": `14px`,\n                        \"font-weight\": `600`,\n                        color: `#888`,\n                        \"text-transform\": `uppercase`,\n                        \"letter-spacing\": `0.5px`,\n                      }}\n                    >\n                      Live Queries ({liveQueries().length})\n                    </h3>\n                  </div>\n                  <For each={liveQueries()}>\n                    {(collection) => (\n                      <CollectionItem\n                        collection={collection}\n                        isSelected={selectedCollection() === collection.id}\n                        onClick={() => handleCollectionSelect(collection.id)}\n                      />\n                    )}\n                  </For>\n                </Show>\n\n                {/* Regular Collections Section */}\n                <Show when={regularCollections().length > 0}>\n                  <div style={{ padding: `16px 0 8px 16px` }}>\n                    <h3\n                      style={{\n                        margin: `0 0 8px 0`,\n                        \"font-size\": `14px`,\n                        \"font-weight\": `600`,\n                        color: `#888`,\n                        \"text-transform\": `uppercase`,\n                        \"letter-spacing\": `0.5px`,\n                      }}\n                    >\n                      Collections ({regularCollections().length})\n                    </h3>\n                  </div>\n                  <For each={regularCollections()}>\n                    {(collection) => (\n                      <CollectionItem\n                        collection={collection}\n                        isSelected={selectedCollection() === collection.id}\n                        onClick={() => handleCollectionSelect(collection.id)}\n                      />\n                    )}\n                  </For>\n                </Show>\n\n                <Show when={props.collections.length === 0}>\n                  <div\n                    style={{\n                      padding: `40px 20px`,\n                      \"text-align\": `center`,\n                      color: `#666`,\n                      \"font-style\": `italic`,\n                    }}\n                  >\n                    No collections found. Create a collection to see it here.\n                  </div>\n                </Show>\n              </Show>\n\n              <Show when={selectedView() === `transactions`}>\n                <TransactionList\n                  transactions={allTransactions()}\n                  selectedTransaction={selectedTransaction()}\n                  onTransactionSelect={handleTransactionSelect}\n                />\n              </Show>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div style={mainStyle}>\n            <Show\n              when={selectedCollection()}\n              fallback={\n                <Show\n                  when={selectedTransaction()}\n                  fallback={\n                    <div\n                      style={{\n                        display: `flex`,\n                        \"align-items\": `center`,\n                        \"justify-content\": `center`,\n                        flex: `1`,\n                        color: `#666`,\n                        \"font-style\": `italic`,\n                      }}\n                    >\n                      {selectedView() === `collections`\n                        ? `Select a collection to view details`\n                        : `Select a transaction to view details`}\n                    </div>\n                  }\n                >\n                  <TransactionDetails\n                    transactionId={selectedTransaction()}\n                    registry={props.registry}\n                  />\n                </Show>\n              }\n            >\n              <CollectionDetails\n                collectionId={selectedCollection()}\n                registry={props.registry}\n              />\n            </Show>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Collection Item Component\nfunction CollectionItem(props: {\n  collection: CollectionMetadata\n  isSelected: boolean\n  onClick: () => void\n}) {\n  const statusColor = () => {\n    switch (props.collection.status) {\n      case `ready`:\n        return `#22c55e`\n      case `loading`:\n        return `#eab308`\n      case `error`:\n        return `#ef4444`\n      case `cleaned-up`:\n        return `#6b7280`\n      default:\n        return `#6b7280`\n    }\n  }\n\n  const statusIcon = () => {\n    switch (props.collection.status) {\n      case `ready`:\n        return `‚úì`\n      case `loading`:\n        return `‚ü≥`\n      case `error`:\n        return `‚ö†`\n      case `cleaned-up`:\n        return `üóë`\n      default:\n        return `‚óã`\n    }\n  }\n\n  return (\n    <div\n      onClick={props.onClick}\n      style={{\n        padding: `12px 16px`,\n        \"border-bottom\": `1px solid #333`,\n        cursor: `pointer`,\n        \"background-color\": props.isSelected ? `#0088ff20` : `transparent`,\n        \"border-left\": props.isSelected\n          ? `3px solid #0088ff`\n          : `3px solid transparent`,\n      }}\n    >\n      <div\n        style={{\n          display: `flex`,\n          \"align-items\": `center`,\n          \"justify-content\": `space-between`,\n          \"margin-bottom\": `4px`,\n        }}\n      >\n        <div\n          style={{\n            \"font-weight\": `500`,\n            \"font-size\": `14px`,\n            color: `#e1e1e1`,\n          }}\n        >\n          {props.collection.type === `live-query` ? `üîÑ` : `üìÑ`}\n          {` `}\n          {props.collection.id}\n        </div>\n        <div\n          style={{\n            display: `flex`,\n            \"align-items\": `center`,\n            gap: `4px`,\n            color: statusColor(),\n          }}\n        >\n          <span style={{ \"font-size\": `12px` }}>{statusIcon()}</span>\n        </div>\n      </div>\n      <div\n        style={{\n          \"font-size\": `12px`,\n          color: `#888`,\n          display: `flex`,\n          \"justify-content\": `space-between`,\n        }}\n      >\n        <span>{props.collection.size} items</span>\n        <Show when={props.collection.hasTransactions}>\n          <span>{props.collection.transactionCount} tx</span>\n        </Show>\n      </div>\n      <Show\n        when={\n          props.collection.timings && props.collection.type === `live-query`\n        }\n      >\n        <div\n          style={{\n            \"font-size\": `11px`,\n            color: `#666`,\n            \"margin-top\": `2px`,\n          }}\n        >\n          {props.collection.timings!.totalIncrementalRuns} runs\n          <Show when={props.collection.timings!.averageIncrementalRunTime}>\n            , avg {props.collection.timings!.averageIncrementalRunTime}ms\n          </Show>\n        </div>\n      </Show>\n    </div>\n  )\n}\n\n// Transaction Details Component\nfunction TransactionDetails(props: {\n  transactionId: string\n  registry: DbDevtoolsRegistry\n}) {\n  const transaction = () => props.registry.getTransaction(props.transactionId)\n\n  return (\n    <div style={{ padding: `20px`, overflow: `auto` }}>\n      <Show when={transaction()} fallback={<div>Transaction not found</div>}>\n        {(tx) => (\n          <div>\n            <h2 style={{ margin: `0 0 16px 0`, \"font-size\": `18px` }}>\n              Transaction {tx().id}\n            </h2>\n            <div style={{ \"margin-bottom\": `20px` }}>\n              <div>\n                <strong>Collection:</strong> {tx().collectionId}\n              </div>\n              <div>\n                <strong>State:</strong> {tx().state}\n              </div>\n              <div>\n                <strong>Created:</strong> {tx().createdAt.toLocaleString()}\n              </div>\n              <div>\n                <strong>Updated:</strong> {tx().updatedAt.toLocaleString()}\n              </div>\n              <div>\n                <strong>Persisted:</strong> {tx().isPersisted ? `Yes` : `No`}\n              </div>\n            </div>\n            <h3>Mutations ({tx().mutations.length})</h3>\n            <For each={tx().mutations}>\n              {(mutation) => (\n                <div\n                  style={{\n                    \"margin-bottom\": `12px`,\n                    padding: `12px`,\n                    \"background-color\": `#333`,\n                    \"border-radius\": `4px`,\n                  }}\n                >\n                  <div>\n                    <strong>Type:</strong> {mutation.type}\n                  </div>\n                  <div>\n                    <strong>Key:</strong> {String(mutation.key)}\n                  </div>\n                  <div>\n                    <strong>Optimistic:</strong>\n                    {` `}\n                    {mutation.optimistic ? `Yes` : `No`}\n                  </div>\n                  <Show when={mutation.changes}>\n                    <details style={{ \"margin-top\": `8px` }}>\n                      <summary style={{ cursor: `pointer` }}>Changes</summary>\n                      <pre\n                        style={{\n                          \"margin-top\": `8px`,\n                          \"background-color\": `#222`,\n                          padding: `8px`,\n                          \"border-radius\": `4px`,\n                          \"font-size\": `12px`,\n                          overflow: `auto`,\n                        }}\n                      >\n                        {JSON.stringify(mutation.changes, null, 2)}\n                      </pre>\n                    </details>\n                  </Show>\n                </div>\n              )}\n            </For>\n          </div>\n        )}\n      </Show>\n    </div>\n  )\n}\n","/** @jsxImportSource solid-js */\nimport { For, Show, createEffect, createSignal, onCleanup } from \"solid-js\"\nimport type { DbDevtoolsRegistry } from \"../types\"\n\ninterface CollectionDetailsProps {\n  collectionId: string\n  registry: DbDevtoolsRegistry\n}\n\nexport function CollectionDetails(props: CollectionDetailsProps) {\n  const [collectionData, setCollectionData] = createSignal<Array<any>>([])\n  const [isLoading, setIsLoading] = createSignal(false)\n  const [error, setError] = createSignal<string | null>(null)\n\n  let unsubscribe: (() => void) | undefined\n\n  createEffect(() => {\n    const collectionId = props.collectionId\n    if (!collectionId) return\n\n    setIsLoading(true)\n    setError(null)\n\n    // Get the collection (creates hard reference)\n    const collection = props.registry.getCollection(collectionId)\n    if (!collection) {\n      setError(`Collection not found`)\n      setIsLoading(false)\n      return\n    }\n\n    // Subscribe to collection changes\n    unsubscribe = collection.subscribeChanges(\n      (_changes) => {\n        // Update the local state with fresh data\n        setCollectionData(Array.from(collection.values()))\n      },\n      { includeInitialState: true }\n    )\n\n    setIsLoading(false)\n\n    // Cleanup: release hard reference and unsubscribe\n    onCleanup(() => {\n      if (unsubscribe) {\n        unsubscribe()\n        unsubscribe = undefined\n      }\n      props.registry.releaseCollection(collectionId)\n    })\n  })\n\n  const metadata = () =>\n    props.registry.getCollectionMetadata(props.collectionId)\n\n  return (\n    <div style={{ padding: `20px`, overflow: `auto`, height: `100%` }}>\n      <Show\n        when={error()}\n        fallback={\n          <Show\n            when={!isLoading()}\n            fallback={\n              <div\n                style={{\n                  display: `flex`,\n                  \"align-items\": `center`,\n                  \"justify-content\": `center`,\n                  height: `200px`,\n                }}\n              >\n                <div style={{ color: `#666` }}>\n                  Loading collection details...\n                </div>\n              </div>\n            }\n          >\n            <div>\n              <div\n                style={{\n                  display: `flex`,\n                  \"align-items\": `center`,\n                  \"justify-content\": `space-between`,\n                  \"margin-bottom\": `20px`,\n                  \"padding-bottom\": `16px`,\n                  \"border-bottom\": `1px solid #333`,\n                }}\n              >\n                <h2\n                  style={{ margin: `0`, \"font-size\": `20px`, color: `#e1e1e1` }}\n                >\n                  {metadata()?.type === `live-query` ? `üîÑ` : `üìÑ`}\n                  {` `}\n                  {props.collectionId}\n                </h2>\n                <div\n                  style={{\n                    display: `flex`,\n                    \"align-items\": `center`,\n                    gap: `12px`,\n                    \"font-size\": `14px`,\n                    color: `#888`,\n                  }}\n                >\n                  <span>Status: {metadata()?.status}</span>\n                  <span>‚Ä¢</span>\n                  <span>{collectionData().length} items</span>\n                </div>\n              </div>\n\n              {/* Metadata Section */}\n              <Show when={metadata()}>\n                <div style={{ \"margin-bottom\": `24px` }}>\n                  <h3\n                    style={{\n                      margin: `0 0 12px 0`,\n                      \"font-size\": `16px`,\n                      color: `#e1e1e1`,\n                    }}\n                  >\n                    Metadata\n                  </h3>\n                  <div\n                    style={{\n                      display: `grid`,\n                      \"grid-template-columns\": `repeat(auto-fit, minmax(200px, 1fr))`,\n                      gap: `12px`,\n                      \"font-size\": `14px`,\n                    }}\n                  >\n                    <div>\n                      <strong>Type:</strong> {metadata()!.type}\n                    </div>\n                    <div>\n                      <strong>Created:</strong>\n                      {` `}\n                      {metadata()!.createdAt.toLocaleString()}\n                    </div>\n                    <div>\n                      <strong>Last Updated:</strong>\n                      {` `}\n                      {metadata()!.lastUpdated.toLocaleString()}\n                    </div>\n                    <div>\n                      <strong>GC Time:</strong>\n                      {` `}\n                      {metadata()!.gcTime || `Default`}ms\n                    </div>\n                    <Show when={metadata()!.hasTransactions}>\n                      <div>\n                        <strong>Transactions:</strong>\n                        {` `}\n                        {metadata()!.transactionCount}\n                      </div>\n                    </Show>\n                  </div>\n\n                  {/* Live Query Timings */}\n                  <Show\n                    when={\n                      metadata()!.type === `live-query` && metadata()!.timings\n                    }\n                  >\n                    <div style={{ \"margin-top\": `16px` }}>\n                      <h4\n                        style={{\n                          margin: `0 0 8px 0`,\n                          \"font-size\": `14px`,\n                          color: `#e1e1e1`,\n                        }}\n                      >\n                        Performance Metrics\n                      </h4>\n                      <div\n                        style={{\n                          display: `grid`,\n                          \"grid-template-columns\": `repeat(auto-fit, minmax(200px, 1fr))`,\n                          gap: `12px`,\n                          \"font-size\": `14px`,\n                        }}\n                      >\n                        <Show when={metadata()!.timings!.initialRunTime}>\n                          <div>\n                            <strong>Initial Run:</strong>\n                            {` `}\n                            {metadata()!.timings!.initialRunTime}ms\n                          </div>\n                        </Show>\n                        <div>\n                          <strong>Total Runs:</strong>\n                          {` `}\n                          {metadata()!.timings!.totalIncrementalRuns}\n                        </div>\n                        <Show\n                          when={metadata()!.timings!.averageIncrementalRunTime}\n                        >\n                          <div>\n                            <strong>Avg Incremental:</strong>\n                            {` `}\n                            {metadata()!.timings!.averageIncrementalRunTime}ms\n                          </div>\n                        </Show>\n                        <Show\n                          when={metadata()!.timings!.lastIncrementalRunTime}\n                        >\n                          <div>\n                            <strong>Last Run:</strong>\n                            {` `}\n                            {metadata()!.timings!.lastIncrementalRunTime}ms\n                          </div>\n                        </Show>\n                      </div>\n                    </div>\n                  </Show>\n                </div>\n              </Show>\n\n              {/* Data Section */}\n              <div>\n                <h3\n                  style={{\n                    margin: `0 0 16px 0`,\n                    \"font-size\": `16px`,\n                    color: `#e1e1e1`,\n                  }}\n                >\n                  Data ({collectionData().length} items)\n                </h3>\n\n                <Show\n                  when={collectionData().length === 0}\n                  fallback={\n                    <div\n                      style={{\n                        \"max-height\": `400px`,\n                        overflow: `auto`,\n                        border: `1px solid #333`,\n                        \"border-radius\": `4px`,\n                      }}\n                    >\n                      <For each={collectionData()}>\n                        {(item, index) => (\n                          <div\n                            style={{\n                              padding: `12px`,\n                              \"border-bottom\":\n                                index() < collectionData().length - 1\n                                  ? `1px solid #333`\n                                  : `none`,\n                              \"background-color\":\n                                index() % 2 === 0 ? `#222` : `#1a1a1a`,\n                            }}\n                          >\n                            <details>\n                              <summary\n                                style={{\n                                  cursor: `pointer`,\n                                  \"font-weight\": `500`,\n                                  color: `#e1e1e1`,\n                                  \"margin-bottom\": `8px`,\n                                }}\n                              >\n                                Item {index() + 1}\n                              </summary>\n                              <pre\n                                style={{\n                                  \"font-size\": `12px`,\n                                  \"line-height\": `1.4`,\n                                  color: `#ccc`,\n                                  margin: `0`,\n                                  \"white-space\": `pre-wrap`,\n                                  \"word-break\": `break-word`,\n                                }}\n                              >\n                                {JSON.stringify(item, null, 2)}\n                              </pre>\n                            </details>\n                          </div>\n                        )}\n                      </For>\n                    </div>\n                  }\n                >\n                  <div\n                    style={{\n                      padding: `40px 20px`,\n                      \"text-align\": `center`,\n                      color: `#666`,\n                      \"font-style\": `italic`,\n                      border: `1px solid #333`,\n                      \"border-radius\": `4px`,\n                      \"background-color\": `#1a1a1a`,\n                    }}\n                  >\n                    No data in collection\n                  </div>\n                </Show>\n              </div>\n            </div>\n          </Show>\n        }\n      >\n        <div\n          style={{\n            display: `flex`,\n            \"align-items\": `center`,\n            \"justify-content\": `center`,\n            height: `200px`,\n            color: `#ef4444`,\n          }}\n        >\n          {error()}\n        </div>\n      </Show>\n    </div>\n  )\n}\n","/** @jsxImportSource solid-js */\nimport { For, Show } from \"solid-js\"\nimport type { TransactionDetails } from \"../types\"\n\ninterface TransactionListProps {\n  transactions: Array<TransactionDetails>\n  selectedTransaction: string | null\n  onTransactionSelect: (id: string) => void\n}\n\nexport function TransactionList(props: TransactionListProps) {\n  const getStateColor = (state: string) => {\n    switch (state) {\n      case `completed`:\n        return `#22c55e`\n      case `failed`:\n        return `#ef4444`\n      case `persisting`:\n        return `#eab308`\n      case `pending`:\n        return `#3b82f6`\n      default:\n        return `#6b7280`\n    }\n  }\n\n  const getStateIcon = (state: string) => {\n    switch (state) {\n      case `completed`:\n        return `‚úì`\n      case `failed`:\n        return `‚úó`\n      case `persisting`:\n        return `‚ü≥`\n      case `pending`:\n        return `‚óã`\n      default:\n        return `?`\n    }\n  }\n\n  return (\n    <div style={{ overflow: `auto`, height: `100%` }}>\n      <Show\n        when={props.transactions.length === 0}\n        fallback={\n          <For each={props.transactions}>\n            {(transaction) => (\n              <div\n                onClick={() => props.onTransactionSelect(transaction.id)}\n                style={{\n                  padding: `12px 16px`,\n                  \"border-bottom\": `1px solid #333`,\n                  cursor: `pointer`,\n                  \"background-color\":\n                    props.selectedTransaction === transaction.id\n                      ? `#0088ff20`\n                      : `transparent`,\n                  \"border-left\":\n                    props.selectedTransaction === transaction.id\n                      ? `3px solid #0088ff`\n                      : `3px solid transparent`,\n                }}\n              >\n                <div\n                  style={{\n                    display: `flex`,\n                    \"align-items\": `center`,\n                    \"justify-content\": `space-between`,\n                    \"margin-bottom\": `4px`,\n                  }}\n                >\n                  <div\n                    style={{\n                      \"font-weight\": `500`,\n                      \"font-size\": `14px`,\n                      color: `#e1e1e1`,\n                    }}\n                  >\n                    {transaction.id.slice(0, 8)}...\n                  </div>\n                  <div\n                    style={{\n                      display: `flex`,\n                      \"align-items\": `center`,\n                      gap: `4px`,\n                      color: getStateColor(transaction.state),\n                    }}\n                  >\n                    <span style={{ \"font-size\": `12px` }}>\n                      {getStateIcon(transaction.state)}\n                    </span>\n                    <span\n                      style={{\n                        \"font-size\": `12px`,\n                        \"text-transform\": `capitalize`,\n                      }}\n                    >\n                      {transaction.state}\n                    </span>\n                  </div>\n                </div>\n                <div\n                  style={{\n                    \"font-size\": `12px`,\n                    color: `#888`,\n                    display: `flex`,\n                    \"justify-content\": `space-between`,\n                    \"align-items\": `center`,\n                  }}\n                >\n                  <span>{transaction.collectionId}</span>\n                  <span>{transaction.mutations.length} mutations</span>\n                </div>\n                <div\n                  style={{\n                    \"font-size\": `11px`,\n                    color: `#666`,\n                    \"margin-top\": `4px`,\n                  }}\n                >\n                  {new Date(transaction.createdAt).toLocaleString()}\n                </div>\n              </div>\n            )}\n          </For>\n        }\n      >\n        <div\n          style={{\n            padding: `40px 20px`,\n            \"text-align\": `center`,\n            color: `#666`,\n            \"font-style\": `italic`,\n          }}\n        >\n          No transactions found\n        </div>\n      </Show>\n    </div>\n  )\n}\n","import type { CollectionImpl } from \"@tanstack/db\"\nimport type {\n  CollectionMetadata,\n  CollectionRegistryEntry,\n  DbDevtoolsRegistry,\n  TransactionDetails,\n} from \"./types\"\n\nclass DbDevtoolsRegistryImpl implements DbDevtoolsRegistry {\n  public collections = new Map<string, CollectionRegistryEntry>()\n  private pollingInterval: number | null = null\n  private readonly POLLING_INTERVAL_MS = 1000 // Poll every second for metadata updates\n\n  constructor() {\n    // Start polling for metadata updates\n    this.startPolling()\n  }\n\n  registerCollection = (collection: CollectionImpl<any, any, any>): void => {\n    const metadata: CollectionMetadata = {\n      id: collection.id,\n      type: this.detectCollectionType(collection),\n      status: collection.status,\n      size: collection.size,\n      hasTransactions: collection.transactions.size > 0,\n      transactionCount: collection.transactions.size,\n      createdAt: new Date(),\n      lastUpdated: new Date(),\n      gcTime: collection.config.gcTime,\n      timings: this.isLiveQuery(collection)\n        ? {\n            totalIncrementalRuns: 0,\n          }\n        : undefined,\n    }\n\n    const entry: CollectionRegistryEntry = {\n      weakRef: new WeakRef(collection),\n      metadata,\n      isActive: false,\n    }\n\n    this.collections.set(collection.id, entry)\n\n    // Track performance for live queries\n    if (this.isLiveQuery(collection)) {\n      this.instrumentLiveQuery(collection, entry)\n    }\n  }\n\n  unregisterCollection = (id: string): void => {\n    const entry = this.collections.get(id)\n    if (entry) {\n      // Release any hard reference\n      entry.hardRef = undefined\n      entry.isActive = false\n      this.collections.delete(id)\n    }\n  }\n\n  getCollectionMetadata = (id: string): CollectionMetadata | undefined => {\n    const entry = this.collections.get(id)\n    if (!entry) return undefined\n\n    // Try to get fresh data from the collection if it's still alive\n    const collection = entry.weakRef.deref()\n    if (collection) {\n      // Update metadata with fresh data\n      entry.metadata.status = collection.status\n      entry.metadata.size = collection.size\n      entry.metadata.hasTransactions = collection.transactions.size > 0\n      entry.metadata.transactionCount = collection.transactions.size\n      entry.metadata.lastUpdated = new Date()\n    }\n\n    return { ...entry.metadata }\n  }\n\n  getAllCollectionMetadata = (): Array<CollectionMetadata> => {\n    const results: Array<CollectionMetadata> = []\n\n    for (const [_id, entry] of this.collections) {\n      const collection = entry.weakRef.deref()\n      if (collection) {\n        // Collection is still alive, update metadata\n        entry.metadata.status = collection.status\n        entry.metadata.size = collection.size\n        entry.metadata.hasTransactions = collection.transactions.size > 0\n        entry.metadata.transactionCount = collection.transactions.size\n        entry.metadata.lastUpdated = new Date()\n        results.push({ ...entry.metadata })\n      } else {\n        // Collection was garbage collected, mark it\n        entry.metadata.status = `cleaned-up`\n        entry.metadata.lastUpdated = new Date()\n        results.push({ ...entry.metadata })\n      }\n    }\n\n    return results\n  }\n\n  getCollection = (id: string): CollectionImpl<any, any, any> | undefined => {\n    const entry = this.collections.get(id)\n    if (!entry) return undefined\n\n    const collection = entry.weakRef.deref()\n    if (collection && !entry.isActive) {\n      // Create hard reference\n      entry.hardRef = collection\n      entry.isActive = true\n    }\n\n    return collection\n  }\n\n  releaseCollection = (id: string): void => {\n    const entry = this.collections.get(id)\n    if (entry && entry.isActive) {\n      // Release hard reference\n      entry.hardRef = undefined\n      entry.isActive = false\n    }\n  }\n\n  getTransactions = (collectionId?: string): Array<TransactionDetails> => {\n    const transactions: Array<TransactionDetails> = []\n\n    for (const [id, entry] of this.collections) {\n      if (collectionId && id !== collectionId) continue\n\n      const collection = entry.weakRef.deref()\n      if (!collection) continue\n\n      for (const [txId, transaction] of collection.transactions) {\n        transactions.push({\n          id: txId,\n          collectionId: id,\n          state: transaction.state,\n          mutations: transaction.mutations.map((m) => ({\n            id: m.mutationId,\n            type: m.type,\n            key: m.key,\n            optimistic: m.optimistic,\n            createdAt: m.createdAt,\n            original: m.original,\n            modified: m.modified,\n            changes: m.changes,\n          })),\n          createdAt: transaction.createdAt,\n          updatedAt: transaction.updatedAt,\n          isPersisted: transaction.state === `completed`,\n        })\n      }\n    }\n\n    return transactions.sort(\n      (a, b) => b.createdAt.getTime() - a.createdAt.getTime()\n    )\n  }\n\n  getTransaction = (id: string): TransactionDetails | undefined => {\n    for (const [collectionId, entry] of this.collections) {\n      const collection = entry.weakRef.deref()\n      if (!collection) continue\n\n      const transaction = collection.transactions.get(id)\n      if (transaction) {\n        return {\n          id,\n          collectionId,\n          state: transaction.state,\n          mutations: transaction.mutations.map((m) => ({\n            id: m.mutationId,\n            type: m.type,\n            key: m.key,\n            optimistic: m.optimistic,\n            createdAt: m.createdAt,\n            original: m.original,\n            modified: m.modified,\n            changes: m.changes,\n          })),\n          createdAt: transaction.createdAt,\n          updatedAt: transaction.updatedAt,\n          isPersisted: transaction.state === `completed`,\n        }\n      }\n    }\n    return undefined\n  }\n\n  cleanup = (): void => {\n    // Stop polling\n    if (this.pollingInterval) {\n      clearInterval(this.pollingInterval)\n      this.pollingInterval = null\n    }\n\n    // Release all hard references\n    for (const [_id, entry] of this.collections) {\n      if (entry.isActive) {\n        entry.hardRef = undefined\n        entry.isActive = false\n      }\n    }\n  }\n\n  garbageCollect = (): void => {\n    // Remove entries for collections that have been garbage collected\n    for (const [id, entry] of this.collections) {\n      const collection = entry.weakRef.deref()\n      if (!collection) {\n        this.collections.delete(id)\n      }\n    }\n  }\n\n  private startPolling = (): void => {\n    if (this.pollingInterval) return\n\n    this.pollingInterval = window.setInterval(() => {\n      // Garbage collect dead references\n      this.garbageCollect()\n\n      // Update metadata for active collections\n      for (const [_id, entry] of this.collections) {\n        if (!entry.isActive) continue // Only update metadata for inactive collections to avoid holding refs\n\n        const collection = entry.weakRef.deref()\n        if (collection) {\n          entry.metadata.status = collection.status\n          entry.metadata.size = collection.size\n          entry.metadata.hasTransactions = collection.transactions.size > 0\n          entry.metadata.transactionCount = collection.transactions.size\n          entry.metadata.lastUpdated = new Date()\n        }\n      }\n    }, this.POLLING_INTERVAL_MS)\n  }\n\n  private detectCollectionType = (\n    collection: CollectionImpl<any, any, any>\n  ): `collection` | `live-query` => {\n    // Check the devtools type marker first\n    if (collection.config.__devtoolsType) {\n      return collection.config.__devtoolsType\n    }\n\n    // Check if the collection ID suggests it's a live query\n    if (collection.id.startsWith(`live-query-`)) {\n      return `live-query`\n    }\n\n    // Default to regular collection\n    return `collection`\n  }\n\n  private isLiveQuery = (\n    collection: CollectionImpl<any, any, any>\n  ): boolean => {\n    return this.detectCollectionType(collection) === `live-query`\n  }\n\n  private instrumentLiveQuery = (\n    collection: CollectionImpl<any, any, any>,\n    entry: CollectionRegistryEntry\n  ): void => {\n    // This is where we would add performance tracking for live queries\n    // We'll need to hook into the query execution pipeline to track timings\n    // For now, this is a placeholder\n    if (!entry.metadata.timings) {\n      entry.metadata.timings = {\n        totalIncrementalRuns: 0,\n      }\n    }\n  }\n}\n\n// Create and export the global registry\nexport function createDbDevtoolsRegistry(): DbDevtoolsRegistry {\n  return new DbDevtoolsRegistryImpl()\n}\n\n// Initialize the global registry if not already present\nexport function initializeDevtoolsRegistry(): DbDevtoolsRegistry {\n  if (!window.__TANSTACK_DB_DEVTOOLS__) {\n    window.__TANSTACK_DB_DEVTOOLS__ = createDbDevtoolsRegistry()\n  }\n  return window.__TANSTACK_DB_DEVTOOLS__\n}\n"],"mappings":"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","names":["createEffect","createSignal","onCleanup","For","Show","createSignal","For","Show","jsx","jsxs","jsx","jsxs","createSignal","Show","For","jsx","jsxs","createSignal","createEffect","onCleanup"]}